// pour | Jannis R | v0.1.0

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.pour=t()}}(function(){return function t(e,i,n){function o(s,h){if(!i[s]){if(!e[s]){var f="function"==typeof require&&require;if(!h&&f)return f(s,!0);if(r)return r(s,!0);var u=Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return o(i?i:t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;n.length>s;s++)o(n[s]);return o}({1:[function(t,e,i){function n(t,e){this.x=t||0,this.y=e||0}function o(t){t=t||{},this.position=t.position||i.v(),this.velocity=t.velocity||i.v(),this.acceleration=t.acceleration||i.v(),this.death=null!==t.death?t.death:200,this.life=0,this.dead=!1}function r(t){t=t||{},this.position=t.position||i.v(),this.velocity=t.velocity||i.v(1),this.spread=t.spread||0,this.death="number"==typeof t.death?t.death:1e3}function s(t,e){this.position=t||i.v(),this.mass="number"==typeof e?e:250}function h(t){t=t||{},this.particles=t.particles||[],this.emitters=t.emitters||[],this.fields=t.fields||[]}i.Vector=n,i.v=function(t,e){return new n(t,e)},n.prototype={add:function(t,e){return e?(this.x+=t,this.y+=e):t&&(this.x+=t.x,this.y+=t.y),this},substract:function(t,e){return e?(this.x-=t,this.y-=e):t&&(this.x-=t.x,this.y-=t.y),this},multiply:function(t){return"number"==typeof t?(this.x*=t,this.y*=t):(this.x*=t.x,this.y*=t.y),this},angle:function(){return Math.atan2(this.y,this.x)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},clone:function(){return new n(this.x,this.y)}},n.fromAngle=function(t,e){return e="number"==typeof e?e:1,new n(Math.cos(t)*e,Math.sin(t)*e)},i.Particle=o,i.p=function(t){return new o(t)},o.prototype={type:"particle",tick:function(t){if(!this.dead){var e,n,o,r=this;if(r.life++,r.life>=r.death)return void(r.dead=!0);for(r.acceleration=i.v(),e=0,n=t.length;n>e;e++)o=t[e].position.clone().substract(r.position),o.multiply(t[e].mass/Math.pow(o.x*o.x+o.y*o.y,1.5)),r.acceleration.add(o);r.velocity.add(r.acceleration),r.position.add(r.velocity)}}},i.Emitter=r,i.e=function(t){return new r(t)},r.prototype={type:"emitter",emit:function(){return i.p({position:this.position.clone(),velocity:n.fromAngle(this.velocity.angle()+this.spread*(Math.random()-.5),this.velocity.length()),death:this.death})}},i.Field=s,i.f=function(t,e){return new s(t,e)},s.prototype.type="field",i.System=h,i.s=function(t){return new h(t)},h.prototype={add:function(t){return this[t.type+"s"].indexOf(t)<0&&this[t.type+"s"].push(t),this},remove:function(t,e){return(e=this[t.type+"s"].indexOf(t)>=0)&&this[t.type+"s"].splice(e,1),this},tick:function(){var t,e=this.particles;for(t=0;e.length>t;t++)e[t].dead?e.splice(t,1):e[t].tick(this.fields);return this}}},{}]},{},[1])(1)});